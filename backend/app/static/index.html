<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Phish Aggregator - é’“é±¼ç½‘ç«™æ£€æµ‹èšåˆå¹³å°</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #2563eb;
      --primary-hover: #1d4ed8;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      --bg-primary: #f8fafc;
      --bg-secondary: #ffffff;
      --border-color: #e2e8f0;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --text-muted: #94a3b8;
      --shadow: 0 1px 3px rgba(0,0,0,0.1);
      --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
    }

    header {
      background: linear-gradient(135deg, var(--primary-color), #1e40af);
      color: white;
      padding: 1.5rem 2rem;
      box-shadow: var(--shadow-lg);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    header h1 {
      font-size: 1.75rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    header .subtitle {
      font-size: 0.875rem;
      opacity: 0.9;
      margin-top: 0.25rem;
    }

    .logo {
      width: 32px;
      height: 32px;
      background: white;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: var(--primary-color);
    }

    main {
      padding: 2rem;
      display: grid;
      grid-template-columns: 380px 1fr;
      gap: 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    @media (max-width: 1024px) {
      main {
        grid-template-columns: 1fr;
        gap: 1rem;
      }
    }

    section {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: box-shadow 0.2s;
    }

    section:hover {
      box-shadow: var(--shadow-lg);
    }

    h2 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .icon {
      width: 20px;
      height: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    .checkbox-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      transition: background-color 0.2s;
      cursor: pointer;
    }

    .checkbox-item:hover {
      background-color: var(--bg-primary);
    }

    .checkbox-item input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: var(--primary-color);
      cursor: pointer;
    }

    .checkbox-label {
      flex: 1;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .radio-group {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    .radio-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem;
      border-radius: 8px;
      transition: background-color 0.2s;
      cursor: pointer;
    }

    .radio-item:hover {
      background-color: var(--bg-primary);
    }

    .radio-item input[type="radio"] {
      width: 18px;
      height: 18px;
      accent-color: var(--primary-color);
      cursor: pointer;
    }

    .radio-label {
      flex: 1;
      font-size: 0.875rem;
      font-weight: 500;
    }

    .threshold-control {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }

    .threshold-slider {
      flex: 1;
      height: 6px;
      background: var(--border-color);
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
    }

    .threshold-slider::-webkit-slider-thumb {
      appearance: none;
      width: 20px;
      height: 20px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
    }

    .threshold-value {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--primary-color);
      min-width: 45px;
      text-align: center;
    }

    textarea {
      width: 100%;
      height: 180px;
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: 8px;
      font-size: 0.875rem;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      resize: vertical;
      transition: border-color 0.2s;
    }

    textarea:focus {
      outline: none;
      border-color: var(--primary-color);
    }

    .button-group {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-hover);
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: var(--bg-primary);
      color: var(--text-primary);
      border: 2px solid var(--border-color);
    }

    .btn-secondary:hover {
      background: var(--border-color);
    }

    .help-text {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.5rem;
      line-height: 1.4;
    }

    .divider {
      height: 1px;
      background: var(--border-color);
      margin: 1.5rem 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      font-size: 0.875rem;
    }

    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    th {
      background: var(--bg-primary);
      font-weight: 600;
      color: var(--text-secondary);
      position: sticky;
      top: 0;
    }

    tr:hover {
      background: var(--bg-primary);
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
    }

    .status-success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success-color);
    }

    .status-warning {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning-color);
    }

    .status-danger {
      background: rgba(239, 68, 68, 0.1);
      color: var(--danger-color);
    }

    .model-probability {
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 0.8rem;
    }

    .metrics-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .metric-card {
      background: var(--bg-primary);
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
    }

    .metric-value {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .metric-label {
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin-top: 0.25rem;
    }

    .loading {
      display: inline-block;
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .fade-in {
      animation: fadeIn 0.3s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* å¸®åŠ©æŒ‰é’®æ ·å¼ */
    .help-btn {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--text-muted);
      color: white;
      border: none;
      font-size: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      margin-left: 0.5rem;
    }

    .help-btn:hover {
      background: var(--primary-color);
      transform: scale(1.1);
    }

    /* å¼¹çª—æ ·å¼ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      background: var(--bg-secondary);
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      transform: scale(0.7);
      transition: transform 0.3s ease;
    }

    .modal-overlay.active .modal {
      transform: scale(1);
    }

    .modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .modal-close {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: none;
      background: var(--bg-primary);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .modal-close:hover {
      background: var(--danger-color);
      color: white;
    }

    .modal-body {
      padding: 1.5rem;
    }

    .modal-section {
      margin-bottom: 1.5rem;
    }

    .modal-section:last-child {
      margin-bottom: 0;
    }

    .modal-section-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.75rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .modal-section-content {
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      padding: 0.25rem 0;
      padding-left: 1.5rem;
      position: relative;
    }

    .feature-list li::before {
      content: "âœ“";
      position: absolute;
      left: 0;
      color: var(--success-color);
      font-weight: bold;
    }

    .link-list {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .link-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .link-item a {
      color: var(--primary-color);
      text-decoration: none;
      font-size: 0.875rem;
    }

    .link-item a:hover {
      text-decoration: underline;
    }

    .status-tag {
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
      padding: 0.25rem 0.75rem;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      margin-left: 0.5rem;
    }

    .tag-active {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success-color);
    }

    .tag-experimental {
      background: rgba(245, 158, 11, 0.1);
      color: var(--warning-color);
    }

    .tag-external {
      background: rgba(37, 99, 235, 0.1);
      color: var(--primary-color);
    }
  </style>
</head>
<body>
<header>
  <div style="display: flex; align-items: center; gap: 0.75rem;">
    <div class="logo">ğŸ›¡ï¸</div>
    <div>
      <h1>Phish Aggregator</h1>
      <div class="subtitle">é’“é±¼ç½‘ç«™æ£€æµ‹èšåˆå¹³å° - æ•´åˆå¤šä¸ªè§„åˆ™æ¸…å•å’Œæ¨¡å‹</div>
    </div>
  </div>
</header>
<main>
  <section>
    <h2>
      <span class="icon">âš™ï¸</span>
      æ£€æµ‹é…ç½®
    </h2>

    <div class="form-group">
      <div class="form-label">è§„åˆ™/æ¸…å•</div>
      <div class="checkbox-group" id="rules"></div>
    </div>

    <div class="form-group">
      <div class="form-label">æ£€æµ‹æ¨¡å‹</div>
      <div class="checkbox-group" id="models"></div>
    </div>

    <div class="form-group">
      <div class="form-label">èšåˆç­–ç•¥</div>
      <div class="radio-group">
        <label class="radio-item">
          <input type="radio" name="strategy" value="any" checked>
          <span class="radio-label">anyï¼ˆå‘½ä¸­ä»»ä¸€å³åˆ¤é’“é±¼ï¼‰</span>
        </label>
        <label class="radio-item">
          <input type="radio" name="strategy" value="weighted">
          <span class="radio-label">weightedï¼ˆæŒ‰æ¦‚ç‡åŠ æƒï¼‰</span>
        </label>
      </div>
    </div>

    <div class="form-group">
      <div class="form-label">æ£€æµ‹é˜ˆå€¼</div>
      <div class="threshold-control">
        <input type="range" id="threshold" class="threshold-slider" min="0" max="1" step="0.05" value="0.5">
        <span class="threshold-value" id="threshold-value">0.50</span>
      </div>
      <div class="help-text">æ¨¡å‹æ¦‚ç‡â‰¥é˜ˆå€¼è§†ä¸ºé’“é±¼</div>
    </div>

    <div class="divider"></div>

    <h2>
      <span class="icon">ğŸ”—</span>
      è¾“å…¥ URL
    </h2>

    <textarea id="urls" placeholder="æ¯è¡Œè¾“å…¥ä¸€ä¸ª URLï¼Œä¾‹å¦‚ï¼š&#10;https://example.com&#10;https://phishing-site.com"></textarea>

    <div class="button-group">
      <button class="btn btn-primary" onclick="runScan()">
        <span>ğŸ”</span>
        å¼€å§‹æ‰«æ
      </button>
      <button class="btn btn-secondary" onclick="runEval()">
        <span>ğŸ“Š</span>
        è¯„æµ‹æ€§èƒ½
      </button>
    </div>

    <div class="help-text">
      ğŸ’¡ å»ºè®®å…ˆè¿è¡Œ <code>python scripts/fetch_rules.py</code> æ‹‰å–æœ€æ–°è§„åˆ™æ¸…å•
    </div>
  </section>

  <section>
    <h2>
      <span class="icon">ğŸ“‹</span>
      æ£€æµ‹ç»“æœ
    </h2>
    <div id="result" class="fade-in">
      <div style="text-align: center; padding: 3rem; color: var(--text-muted);">
        <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
        <div>é…ç½®æ£€æµ‹æºå¹¶è¾“å…¥ URL å¼€å§‹æ‰«æ</div>
      </div>
    </div>
  </section>
</main>

<!-- è¯´æ˜å¼¹çª— -->
<div class="modal-overlay" id="descriptionModal">
  <div class="modal">
    <div class="modal-header">
      <h3 class="modal-title" id="modalTitle">è¯¦ç»†ä¿¡æ¯</h3>
      <button class="modal-close" onclick="closeModal()">Ã—</button>
    </div>
    <div class="modal-body" id="modalBody">
      <!-- åŠ¨æ€å†…å®¹ -->
    </div>
  </div>
</div>

<script>
// é˜ˆå€¼æ»‘å—å®æ—¶æ›´æ–°
document.getElementById('threshold').addEventListener('input', function() {
  document.getElementById('threshold-value').textContent = parseFloat(this.value).toFixed(2);
});

async function loadSources() {
  try {
    const r1 = await fetch('/api/sources/rules').then(r=>r.json());
    const r2 = await fetch('/api/sources/models').then(r=>r.json());

    const rulesDiv = document.getElementById('rules');
    const modelsDiv = document.getElementById('models');

    rulesDiv.innerHTML = (r1.rules||[]).map(x=>{
      const statusClass = x.installed ? 'status-success' : 'status-warning';
      const statusText = x.installed ? 'å·²å®‰è£…' : 'æœªå®‰è£…';
      return `
        <label class="checkbox-item">
          <input type="checkbox" name="rule" value="${x.key}" ${x.installed?'checked':''}>
          <span class="checkbox-label">${x.name}</span>
          <button class="help-btn" onclick="showDescription('è§„åˆ™æº', '${x.key}')" title="æŸ¥çœ‹è¯¦æƒ…">?</button>
          <span class="status-badge ${statusClass}">${statusText}</span>
        </label>
      `;
    }).join('');

    modelsDiv.innerHTML = (r2.models||[]).map(x=>{
      const statusClass = x.installed ? 'status-success' : 'status-warning';
      const statusText = x.installed ? 'å¯ç”¨' : 'æœªå®‰è£…';
      const isChecked = x.key === 'heuristic_baseline' ? 'checked' : '';
      return `
        <label class="checkbox-item">
          <input type="checkbox" name="model" value="${x.key}" ${isChecked}>
          <span class="checkbox-label">${x.name}</span>
          <button class="help-btn" onclick="showDescription('æ¨¡å‹', '${x.key}')" title="æŸ¥çœ‹è¯¦æƒ…">?</button>
          <span class="status-badge ${statusClass}">${statusText}</span>
        </label>
      `;
    }).join('');
  } catch (error) {
    console.error('åŠ è½½æºå¤±è´¥:', error);
  }
}

function getChecked(name) {
  return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`)).map(el=>el.value);
}

async function runScan() {
  const urls = document.getElementById('urls').value.split('\n').map(x=>x.trim()).filter(Boolean);
  if (!urls.length) {
    showNotification('è¯·è¾“å…¥è‡³å°‘ä¸€ä¸ª URL', 'warning');
    return;
  }

  const button = event.target;
  const originalContent = button.innerHTML;
  button.innerHTML = '<span class="loading"></span> æ‰«æä¸­...';
  button.disabled = true;

  try {
    const body = {
      urls,
      use_rules: getChecked('rule'),
      use_models: getChecked('model'),
      strategy: document.querySelector('input[name="strategy"]:checked').value,
      threshold: parseFloat(document.getElementById('threshold').value||'0.5')
    };

    const res = await fetch('/api/scan', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify(body)
    }).then(r=>r.json());

    renderScan(res);
    showNotification(`æ‰«æå®Œæˆï¼Œæ£€æµ‹äº† ${urls.length} ä¸ªURL`, 'success');
  } catch (error) {
    showNotification('æ‰«æå¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', 'error');
    console.error('æ‰«æå¤±è´¥:', error);
  } finally {
    button.innerHTML = originalContent;
    button.disabled = false;
  }
}

function renderScan(res) {
  const div = document.getElementById('result');

  if (!res.results || res.results.length === 0) {
    div.innerHTML = `
      <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
        <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ“­</div>
        <div>æ²¡æœ‰æ£€æµ‹åˆ°ä»»ä½•ç»“æœ</div>
      </div>
    `;
    return;
  }

  const rows = (res.results||[]).map(r=>{
    const ruleHits = Object.keys(r.rules||{}).filter(k=>r.rules[k]);
    const modelStr = Object.keys(r.models||{}).map(k=>{
      const proba = r.models[k].proba ?? '-';
      return `<div class="model-probability"><strong>${k}:</strong> ${proba}</div>`;
    }).join('');

    const isPhishing = r.agg.label;
    const statusClass = isPhishing ? 'status-danger' : 'status-success';
    const statusText = isPhishing ? 'ğŸš¨ é’“é±¼' : 'âœ… æ­£å¸¸';
    const statusIcon = isPhishing ? 'âš ï¸' : 'âœ…';

    return `
      <tr>
        <td style="max-width: 300px; word-break: break-all;">
          <div style="font-family: monospace; font-size: 0.8rem;">${r.url}</div>
        </td>
        <td>
          ${ruleHits.length > 0 ?
            ruleHits.map(hit => `<span class="status-badge status-warning">${hit}</span>`).join('<br>') :
            '<span style="color: var(--text-muted);">-</span>'
          }
        </td>
        <td>${modelStr || '<span style="color: var(--text-muted);">-</span>'}</td>
        <td>
          <div style="display: flex; flex-direction: column; gap: 0.5rem;">
            <span class="status-badge ${statusClass}">${statusIcon} ${statusText}</span>
            <div style="font-size: 0.75rem; color: var(--text-secondary);">
              ç½®ä¿¡åº¦: <strong>${(r.agg.score * 100).toFixed(1)}%</strong>
            </div>
          </div>
        </td>
      </tr>
    `;
  }).join('');

  div.innerHTML = `
    <div style="margin-bottom: 1rem;">
      <span style="font-weight: 600; color: var(--text-secondary);">æ£€æµ‹ç»Ÿè®¡:</span>
      <span style="margin-left: 1rem;">
        æ€»è®¡: ${res.results.length} ä¸ªURL |
        é’“é±¼: ${res.results.filter(r=>r.agg.label).length} ä¸ª |
        æ­£å¸¸: ${res.results.filter(r=>!r.agg.label).length} ä¸ª
      </span>
    </div>
    <table>
      <thead>
        <tr>
          <th>URL</th>
          <th>å‘½ä¸­è§„åˆ™</th>
          <th>æ¨¡å‹æ¦‚ç‡</th>
          <th>æ£€æµ‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>${rows}</tbody>
    </table>
  `;

  div.className = 'fade-in';
}

async function runEval() {
  const button = event.target;
  const originalContent = button.innerHTML;
  button.innerHTML = '<span class="loading"></span> è¯„æµ‹ä¸­...';
  button.disabled = true;

  try {
    const body = {
      use_models: getChecked('model'),
      strategy: document.querySelector('input[name="strategy"]:checked').value,
      threshold: parseFloat(document.getElementById('threshold').value||'0.5')
    };

    const res = await fetch('/api/evaluate', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body: JSON.stringify(body)
    }).then(r=>r.json());

    renderEval(res);
    showNotification('è¯„æµ‹å®Œæˆ', 'success');
  } catch (error) {
    showNotification('è¯„æµ‹å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥', 'error');
    console.error('è¯„æµ‹å¤±è´¥:', error);
  } finally {
    button.innerHTML = originalContent;
    button.disabled = false;
  }
}

function renderEval(res) {
  const div = document.getElementById('result');

  const metrics = [
    { label: 'å‡†ç¡®ç‡', value: (res.metrics.accuracy * 100).toFixed(1) + '%' },
    { label: 'ç²¾ç¡®ç‡', value: (res.metrics.precision * 100).toFixed(1) + '%' },
    { label: 'å¬å›ç‡', value: (res.metrics.recall * 100).toFixed(1) + '%' },
    { label: 'F1åˆ†æ•°', value: (res.metrics.f1 * 100).toFixed(1) + '%' }
  ];

  const metricsGrid = metrics.map(metric => `
    <div class="metric-card">
      <div class="metric-value">${metric.value}</div>
      <div class="metric-label">${metric.label}</div>
    </div>
  `).join('');

  div.innerHTML = `
    <div class="metrics-grid">
      ${metricsGrid}
    </div>

    <div style="background: var(--bg-primary); padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
      <div style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--text-secondary);">æ··æ·†çŸ©é˜µ</div>
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; font-size: 0.875rem;">
        <div>âœ… çœŸé˜³æ€§ (TP): <strong>${res.metrics.tp}</strong></div>
        <div>âœ… çœŸé˜´æ€§ (TN): <strong>${res.metrics.tn}</strong></div>
        <div>âŒ å‡é˜³æ€§ (FP): <strong>${res.metrics.fp}</strong></div>
        <div>âŒ å‡é˜´æ€§ (FN): <strong>${res.metrics.fn}</strong></div>
      </div>
    </div>

    <div class="help-text">
      ğŸ“Š è¯„æµ‹å®Œæˆï¼Œå…±å¤„ç† ${res.details.length} æ¡æ ·æœ¬æ•°æ®
    </div>
  `;

  div.className = 'fade-in';
}

function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    color: white;
    font-weight: 500;
    z-index: 1000;
    animation: slideIn 0.3s ease-out;
  `;

  const colors = {
    success: '#10b981',
    warning: '#f59e0b',
    error: '#ef4444',
    info: '#3b82f6'
  };

  notification.style.background = colors[type] || colors.info;
  notification.textContent = message;

  document.body.appendChild(notification);

  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease-in';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

// æ·»åŠ åŠ¨ç”»æ ·å¼
const style = document.createElement('style');
style.textContent = `
  @keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  @keyframes slideOut {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
`;
document.head.appendChild(style);

// è¯¦ç»†è¯´æ˜æ•°æ®
const descriptions = {
  "è§„åˆ™æº": {
    "metamask_eth_phishing_detect": {
      title: "MetaMask eth-phishing-detect",
      description: "Web3 å¸¸ç”¨çš„é’“é±¼åŸŸåæ£€æµ‹ä¸é˜»æ–­æ¸…å•",
      details: {
        overview: "MetaMask å®˜æ–¹ç»´æŠ¤çš„é’“é±¼ç½‘ç«™æ£€æµ‹å·¥å…·ï¼ŒåŒ…å«é»‘åå•å’Œç™½åå•ã€‚è¿™æ˜¯ Web3 ç”Ÿæ€ä¸­æœ€å¹¿æ³›ä½¿ç”¨çš„é’“é±¼æ£€æµ‹å·¥å…·ä¹‹ä¸€ï¼Œè¢«ä¼—å¤šé’±åŒ…å’Œç¤¾åŒºå·¥å…·é›†æˆä½¿ç”¨ã€‚",
        features: [
          "åŒ…å«é»‘åå•ï¼ˆblocklistï¼‰å’Œç™½åå•ï¼ˆallowlistï¼‰åŒé‡æœºåˆ¶",
          "ä¸“é—¨é’ˆå¯¹ Web3 ç”¨æˆ·çš„é’“é±¼æ”»å‡»",
          "å®æ—¶æ›´æ–°ï¼Œå“åº”è¿…é€Ÿ",
          "è¢«ä¸»æµé’±åŒ…å¹¿æ³›é‡‡ç”¨"
        ],
        usage: "è‡ªåŠ¨åœ¨åå°è¿è¡Œï¼Œå½“ç”¨æˆ·è®¿é—®è¢«åˆ—å…¥é»‘åå•çš„åŸŸåæ—¶ä¼šè§¦å‘è­¦å‘Šã€‚ç™½åå•æœºåˆ¶å¯ä»¥é˜²æ­¢è¯¯æŠ¥ï¼Œç¡®ä¿å·²çŸ¥çš„åˆæ³•ç½‘ç«™èƒ½å¤Ÿæ­£å¸¸è®¿é—®ã€‚",
        data_sources: "config.json æ–‡ä»¶åŒ…å«æ‰€æœ‰è§„åˆ™ï¼Œæ”¯æŒåŸŸååŒ¹é…å’Œæ¨¡ç³ŠåŒ¹é…ã€‚",
        license: "MIT License",
        maintenance: "ç”± MetaMask å›¢é˜Ÿç§¯æç»´æŠ¤ï¼Œæ›´æ–°é¢‘ç‡è¾ƒé«˜"
      },
      links: {
        github: "https://github.com/MetaMask/eth-phishing-detect",
        config: "https://github.com/MetaMask/eth-phishing-detect/blob/main/src/config.json"
      }
    },
    "polkadot_js_phishing": {
      title: "polkadot{.js} phishing",
      description: "Polkadot/Substrate ç”Ÿæ€çš„æ¶æ„ç«™ç‚¹ä¸åœ°å€æ¸…å•",
      details: {
        overview: "ä¸“ä¸º Polkadot å’Œ Substrate ç”Ÿæ€ç³»ç»Ÿè®¾è®¡çš„é’“é±¼æ£€æµ‹å·¥å…·ï¼ŒåŒ…å«æ¶æ„ç«™ç‚¹åˆ—è¡¨å’Œæ¶æ„åœ°å€åˆ—è¡¨ã€‚",
        features: [
          "åŒæ–‡ä»¶ç»“æ„ï¼šç«™ç‚¹åˆ—è¡¨ï¼ˆall.jsonï¼‰å’Œåœ°å€åˆ—è¡¨ï¼ˆaddress.jsonï¼‰",
          "æä¾› JavaScript æ ¡éªŒå‡½æ•°ï¼Œä¾¿äºå‰ç«¯é›†æˆ",
          "é’ˆå¯¹ Polkadot ç”Ÿæ€çš„ç‰¹å®šå¨èƒ",
          "ç¤¾åŒºé©±åŠ¨çš„ç»´æŠ¤æ¨¡å¼"
        ],
        usage: "é€šè¿‡ JS åº“å¯ä»¥è½»æ¾é›†æˆåˆ° Polkadot åº”ç”¨ä¸­ï¼Œæ”¯æŒå®æ—¶æ£€æŸ¥ç½‘ç«™å’Œåœ°å€çš„å®‰å…¨æ€§ã€‚",
        data_sources: "ä¸¤ä¸ªä¸»è¦çš„ JSON æ–‡ä»¶ï¼šall.jsonï¼ˆç½‘ç«™é»‘åå•ï¼‰å’Œ address.jsonï¼ˆåœ°å€é»‘åå•ï¼‰ã€‚",
        license: "Apache 2.0",
        maintenance: "ç”± polkadot-js å›¢é˜Ÿç»´æŠ¤ï¼Œç¤¾åŒºè´¡çŒ®é©±åŠ¨"
      },
      links: {
        github: "https://github.com/polkadot-js/phishing",
        sites: "https://github.com/polkadot-js/phishing/blob/master/all.json",
        addresses: "https://github.com/polkadot-js/phishing/blob/master/address.json"
      }
    },
    "phishing_database": {
      title: "Phishing.Database",
      description: "æŒç»­æ›´æ–°çš„å¤§è§„æ¨¡é’“é±¼é“¾æ¥æ•°æ®åº“",
      details: {
        overview: "ä¸€ä¸ªå¤§è§„æ¨¡çš„é’“é±¼ç½‘ç«™æ•°æ®åº“ï¼Œæä¾›å¤šç§æ ¼å¼çš„æ•°æ®æ–‡ä»¶ï¼Œä¸“æ³¨äºå®æ—¶é˜»æ–­å’Œè®­ç»ƒæ ·æœ¬è¡¥å……ã€‚",
        features: [
          "å¤šç§æ•°æ®æ ¼å¼ï¼šæ´»è·ƒé“¾æ¥ã€æ–°å‘ç°é“¾æ¥ã€åŸŸååˆ—è¡¨ç­‰",
          "TXT æ ¼å¼ä¾¿äºå¤„ç†å’Œé›†æˆ",
          "æŒç»­æ›´æ–°ï¼Œè¦†ç›–èŒƒå›´å¹¿",
          "é€‚åˆæœºå™¨å­¦ä¹ è®­ç»ƒ"
        ],
        usage: "å¯ä»¥ç›´æ¥å¯¼å…¥åˆ°å®‰å…¨è®¾å¤‡ä¸­ï¼Œæˆ–ç”¨ä½œæœºå™¨å­¦ä¹ æ¨¡å‹çš„è®­ç»ƒæ•°æ®ã€‚æ”¯æŒè‡ªåŠ¨åŒ–è„šæœ¬å®šæœŸæ›´æ–°ã€‚",
        data_sources: "å¤šä¸ª TXT æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ´»è·ƒé“¾æ¥ã€åŸŸåç­‰ä¸åŒåˆ†ç±»ã€‚",
        license: "MIT License",
        maintenance: "ç¤¾åŒºç»´æŠ¤ï¼Œæ›´æ–°é¢‘ç‡é«˜ï¼Œæ•°æ®é‡å¤§"
      },
      links: {
        github: "https://github.com/Phishing-Database/Phishing.Database",
        active_links: "https://github.com/Phishing-Database/Phishing.Database/blob/main/phishing-links-ACTIVE-NOW.txt",
        active_domains: "https://github.com/Phishing-Database/Phishing.Database/blob/main/phishing-domains-ACTIVE.txt"
      }
    },
    "cryptoscamdb": {
      title: "CryptoScamDB",
      description: "åŠ å¯†é¢†åŸŸè€ç‰Œçš„å¼€æºé»‘åå•ä¸é…å¥—ä»“åº“",
      details: {
        overview: "CryptoScamDB ç»„ç»‡ç»´æŠ¤çš„è€ç‰ŒåŠ å¯†è´§å¸è¯ˆéª—æ•°æ®åº“ï¼Œä¸“æ³¨äºè¯ˆéª—åŸŸåã€é’“é±¼ç½‘ç«™å’Œç¤¾äº¤åª’ä½“è´¦å·çš„æ”¶é›†ã€‚",
        features: [
          "ä¸“æ³¨åŠ å¯†è´§å¸é¢†åŸŸçš„è¯ˆéª—æ£€æµ‹",
          "åŒ…å«åŸŸåå’Œç¤¾äº¤åª’ä½“è´¦å·ä¿¡æ¯",
          "æä¾› API æ¥å£ä¾¿äºé›†æˆ",
          "å†å²æ‚ ä¹…çš„å¯ä¿¡æ•°æ®æº"
        ],
        usage: "é€šè¿‡ API å¯ä»¥æŸ¥è¯¢åŸŸåå’Œåœ°å€çš„å®‰å…¨æ€§ï¼Œæ”¯æŒæ‰¹é‡æŸ¥è¯¢å’Œå®æ—¶æ£€æµ‹ã€‚",
        data_sources: "API æ¥å£å’Œ GitHub ä»“åº“ï¼Œä½†ç›®å‰ API æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ã€‚",
        license: "MIT License",
        maintenance: "ç”± CryptoScamDB ç»„ç»‡ç»´æŠ¤ï¼ŒæœåŠ¡å¶å°”ä¼šæœ‰ä¸­æ–­"
      },
      links: {
        github: "https://github.com/CryptoScamDB/blacklist",
        api: "https://api.cryptoscamdb.org/v1/blacklist"
      }
    }
  },
  "æ¨¡å‹": {
    "heuristic_baseline": {
      title: "Heuristic Baseline (å†…ç½®)",
      description: "åŸºäºå¯å‘å¼è§„åˆ™çš„ baseline æ£€æµ‹æ¨¡å‹",
      details: {
        overview: "å†…ç½®çš„å¯å‘å¼æ£€æµ‹æ¨¡å‹ï¼Œé€šè¿‡åˆ†æ URL çš„ç»“æ„ç‰¹å¾ã€åŸŸåä¿¡æ¯ã€SSL è¯ä¹¦ç­‰æ¥åˆ¤æ–­æ˜¯å¦ä¸ºé’“é±¼ç½‘ç«™ã€‚",
        features: [
          "æ— éœ€å¤–éƒ¨ä¾èµ–ï¼Œå†…ç½®å®ç°",
          "å¿«é€Ÿå“åº”ï¼Œå®æ—¶æ£€æµ‹",
          "åŸºäºå¤šç§å¯å‘å¼è§„åˆ™",
          "å¯é…ç½®çš„é˜ˆå€¼è°ƒèŠ‚"
        ],
        usage: "ç³»ç»Ÿé»˜è®¤å¯ç”¨çš„åŸºç¡€æ£€æµ‹æ¨¡å‹ï¼Œæä¾›å®æ—¶æ£€æµ‹èƒ½åŠ›ã€‚",
        algorithm: "ç»“åˆäº† URL ç‰¹å¾åˆ†æã€åŸŸåå¹´é¾„æ£€æŸ¥ã€SSL éªŒè¯ç­‰å¤šç§æ–¹æ³•ã€‚",
        performance: "æ£€æµ‹é€Ÿåº¦å¿«ï¼Œå‡†ç¡®ç‡é€‚ä¸­ï¼Œé€‚åˆä½œä¸ºåŸºç¡€æ£€æµ‹å±‚ã€‚",
        advantages: ["æ— ä¾èµ–", "é€Ÿåº¦å¿«", "èµ„æºå ç”¨ä½"]
      },
      links: {
        source: "æœ¬åœ°å®ç°",
        docs: "å†…ç½®ç®—æ³•æ–‡æ¡£"
      }
    },
    "urltran": {
      title: "URLTran",
      description: "åŸºäº Transformer çš„ URL æ–‡æœ¬è¡¨å¾æ¨¡å‹",
      details: {
        overview: "ä½¿ç”¨ Transformer æ¶æ„å¯¹ URL è¿›è¡Œæ·±åº¦å­¦ä¹ å’Œè¡¨å¾ï¼Œèƒ½å¤Ÿç†è§£ URL çš„è¯­ä¹‰ç‰¹å¾ã€‚",
        features: [
          "Transformer æ¶æ„ï¼Œæ·±åº¦å­¦ä¹ æ¨¡å‹",
          "æ”¯æŒ PyTorch å’Œ HuggingFace",
          "é¢„è®­ç»ƒæ¨¡å‹ï¼Œå¼€ç®±å³ç”¨",
          "é€‚åˆå¤§è§„æ¨¡ URL å¤„ç†"
        ],
        usage: "éœ€è¦å®‰è£… PyTorch å’Œ Transformers åº“ï¼Œæ”¯æŒæ‰¹é‡å¤„ç†ã€‚",
        model_size: "ä¸­ç­‰è§„æ¨¡çš„é¢„è®­ç»ƒæ¨¡å‹",
        accuracy: "åœ¨å¤§å‹æ•°æ®é›†ä¸Šè¡¨ç°ä¼˜å¼‚",
        requirements: ["Python", "PyTorch", "Transformers"]
      },
      links: {
        github: "https://github.com/bfilar/URLTran",
        models: "https://github.com/bfilar/URLTran/tree/main/models",
        paper: "ç›¸å…³ç ”ç©¶è®ºæ–‡"
      }
    },
    "urlbert": {
      title: "URLBERT",
      description: "é¢å‘ URL çš„ BERT é¢„è®­ç»ƒæ¨¡å‹",
      details: {
        overview: "ä¸“é—¨ä¸º URL æ£€æµ‹ä»»åŠ¡è®¾è®¡çš„ BERT é¢„è®­ç»ƒæ¨¡å‹ï¼ŒåŒ…å«å¯¹æ¯”å­¦ä¹ å’Œè™šæ‹Ÿå¯¹æŠ—è®­ç»ƒï¼ˆVATï¼‰ã€‚",
        features: [
          "BERT æ¶æ„ï¼Œä¸“é—¨é’ˆå¯¹ URL ä¼˜åŒ–",
          "åŒ…å«å¯¹æ¯”å­¦ä¹ å’Œ VAT è®­ç»ƒ",
          "æä¾›ä¸“ç”¨ tokenizer",
          "é¢„è®­ç»ƒæƒé‡å¯ç”¨"
        ],
        usage: "éœ€è¦åŠ è½½é¢„è®­ç»ƒæ¨¡å‹å’Œä¸“ç”¨ tokenizerï¼Œæ”¯æŒ URL çš„æ·±åº¦è¯­ä¹‰åˆ†æã€‚",
        training: "åœ¨å¤§è§„æ¨¡ URL æ•°æ®é›†ä¸Šé¢„è®­ç»ƒ",
        performance: "åœ¨ URL åˆ†ç±»ä»»åŠ¡ä¸Šè¡¨ç°ä¼˜å¼‚",
        requirements: ["BERT", "PyTorch", "ä¸“ç”¨tokenizer"]
      },
      links: {
        github: "https://github.com/Davidup1/URLBERT",
        models: "https://github.com/Davidup1/URLBERT/tree/main/bert_model",
        paper: "URLBERT ç›¸å…³ç ”ç©¶è®ºæ–‡"
      }
    },
    "phishpedia": {
      title: "Phishpedia",
      description: "åŸºäºè§†è§‰ä¸€è‡´æ€§çš„é’“é±¼ç½‘ç«™æ£€æµ‹",
      details: {
        overview: "USENIX'21 å‘è¡¨çš„è§†è§‰ä¸€è‡´æ€§æ£€æµ‹æ–¹æ³•ï¼Œé€šè¿‡ Logo ç›®æ ‡æ£€æµ‹å’Œ Siamese ç½‘ç»œåŒ¹é…æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å†’å……ç›®æ ‡å“ç‰Œã€‚",
        features: [
          "è®¡ç®—æœºè§†è§‰æŠ€æœ¯",
          "Logo æ£€æµ‹ä¸åŒ¹é…",
          "Siamese ç½‘ç»œæ¶æ„",
          "ç›®æ ‡å“ç‰Œåº“æ”¯æŒ"
        ],
        usage: "ä¸»è¦ç”¨äºè§†è§‰ç›¸ä¼¼çš„é’“é±¼ç½‘ç«™æ£€æµ‹ï¼Œéœ€è¦å¤„ç†ç½‘é¡µæˆªå›¾ã€‚",
        accuracy: "åœ¨è§†è§‰é’“é±¼æ£€æµ‹ä¸Šå‡†ç¡®ç‡å¾ˆé«˜",
        limitations: ["éœ€è¦ç½‘é¡µæ¸²æŸ“", "è®¡ç®—èµ„æºè¦æ±‚é«˜"],
        applications: ["é“¶è¡Œç½‘ç«™", "ç”µå•†ç½‘ç«™", "ç¤¾äº¤åª’ä½“"]
      },
      links: {
        github: "https://github.com/lindsey98/Phishpedia",
        models: "https://github.com/lindsey98/Phishpedia/tree/main/models",
        paper: "USENIX'21 è®ºæ–‡"
      }
    },
    "phishintention": {
      title: "PhishIntention",
      description: "è§†è§‰+åŠ¨æ€äº¤äº’çš„é’“é±¼æ£€æµ‹æ–¹æ³•",
      details: {
        overview: "USENIX'22 å‘è¡¨çš„ç»¼åˆæ£€æµ‹æ–¹æ³•ï¼Œç»“åˆè§†è§‰åˆ†æå’ŒåŠ¨æ€äº¤äº’è¡Œä¸ºåˆ†æï¼ŒåŒ…æ‹¬å¸ƒå±€æ£€æµ‹ã€OCR è¾…åŠ©çš„ Siamese ç½‘ç»œã€å‡­è¯é¡µå®šä½ç­‰ã€‚",
        features: [
          "è§†è§‰ + è¡Œä¸ºåˆ†æ",
          "å¸ƒå±€æ£€æµ‹å’Œ OCR",
          "Siamese ç½‘ç»œåŒ¹é…",
          "å‡­è¯é¡µï¼ˆCRPï¼‰å®šä½"
        ],
        usage: "éœ€è¦æµè§ˆå™¨ç¯å¢ƒæ”¯æŒï¼Œèƒ½å¤Ÿæ‰§è¡Œ JavaScript å¹¶åˆ†æé¡µé¢äº¤äº’ã€‚",
        performance: "ç»¼åˆæ£€æµ‹èƒ½åŠ›å¼ºï¼Œå‡†ç¡®ç‡é«˜",
        complexity: "å®ç°å¤æ‚ï¼Œéœ€è¦æµè§ˆå™¨ç¯å¢ƒ",
        innovation: "ç»“åˆäº†é™æ€å’ŒåŠ¨æ€åˆ†æ"
      },
      links: {
        github: "https://github.com/lindsey98/PhishIntention",
        models: "https://github.com/lindsey98/PhishIntention/tree/main/models",
        paper: "USENIX'22 è®ºæ–‡"
      }
    },
    "opensquat": {
      title: "openSquat",
      description: "åŒå½¢å¼‚ä¹‰åŸŸåæ£€æµ‹å·¥å…·",
      details: {
        overview: "OSINT å·¥å…·ï¼Œä¸“é—¨ç›‘æµ‹ typosquattingã€åŒå½¢å¼‚ä¹‰ã€å“ç‰Œå†’å……ç­‰åŸŸåæ”»å‡»æ‰‹æ®µï¼Œå¸¸ç”¨äºå“ç‰Œå’Œèµ„äº§é˜²æŠ¤çš„å‰ç½®å‘ç°ã€‚",
        features: [
          "typosquatting æ£€æµ‹",
          "åŒå½¢å¼‚ä¹‰åŸŸåè¯†åˆ«",
          "å“ç‰Œå†’å……æ£€æµ‹",
          "è¢«åŠ¨å¼ç›‘æ§"
        ],
        usage: "ç”¨äºå“ç‰Œä¿æŠ¤ï¼Œå¯ä»¥ç›‘æ§å’Œé¢„è­¦å¯èƒ½çš„åŸŸåæŠ¢æ³¨å’Œå†’å……è¡Œä¸ºã€‚",
        methodology: "åŸºäºåŸŸåç›¸ä¼¼åº¦ç®—æ³•",
        applications: ["å“ç‰Œä¿æŠ¤", "èµ„äº§ç›‘æ§", "å¨èƒæƒ…æŠ¥"],
        advantages: ["é¢„é˜²æ€§æ£€æµ‹", "ä¸»åŠ¨é˜²å¾¡"]
      },
      links: {
        github: "https://github.com/atenreiro/opensquat",
        docs: "openSquat æ–‡æ¡£"
      }
    },
    "safesurf": {
      title: "SafeSurf",
      description: "å…¥é—¨å‹å¥½çš„é’“é±¼åŸŸåæ£€æµ‹å·¥å…·",
      details: {
        overview: "é¢å‘åˆå­¦è€…çš„é’“é±¼åŸŸåæ£€æµ‹ä¸å®‰å…¨é¢„è§ˆå·¥å…·ï¼Œæ”¯æŒ PhishTank æŸ¥è¯¢ã€WHOIS/SSL ä¿¡æ¯åˆ†æå’Œä¿¡ä»»è¯„åˆ†ã€‚",
        features: [
          "PhishTank é›†æˆ",
          "WHOIS ä¿¡æ¯æŸ¥è¯¢",
          "SSL è¯ä¹¦åˆ†æ",
          "ä¿¡ä»»è¯„åˆ†ç³»ç»Ÿ"
        ],
        usage: "æä¾› Web ç•Œé¢ï¼Œæ”¯æŒå®æ—¶ URL æ£€æŸ¥å’Œå®‰å…¨é¢„è§ˆã€‚",
        ml_features: "åœ¨ v1-ml åˆ†æ”¯æä¾›æœºå™¨å­¦ä¹ å®ç°",
        target_users: ["åˆå­¦è€…", "å®‰å…¨çˆ±å¥½è€…", "æ•™è‚²ç”¨é€”"],
        ease_of_use: "ç•Œé¢å‹å¥½ï¼Œæ“ä½œç®€å•"
      },
      links: {
        github: "https://github.com/abhizaik/SafeSurf",
        ml_branch: "https://github.com/abhizaik/SafeSurf/tree/v1-ml"
      }
    },
    "vaibhav_phishing_url_detection": {
      title: "Phishing-URL-Detection (vaibhavbichave)",
      description: "ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•å¯¹æ¯”",
      details: {
        overview: "ä½¿ç”¨ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•è¿›è¡Œ URL æ£€æµ‹ï¼Œå¯¹æ¯”å¤šç§ç®—æ³•æ€§èƒ½ï¼ŒåŒ…å« GBDTã€CatBoostã€XGBoostã€MLP ç­‰æ¨¡å‹ã€‚",
        features: [
          "å¤šæ¨¡å‹å¯¹æ¯”",
          "ä¼ ç»Ÿç‰¹å¾å·¥ç¨‹",
          "é¢„è®­ç»ƒæ¨¡å‹å¯ç”¨",
          "å®Œæ•´çš„é¡¹ç›®ç»“æ„"
        ],
        usage: "æä¾›è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡ï¼Œå¯ç›´æ¥ç”¨äºé¢„æµ‹ã€‚",
        models: ["GBDT", "CatBoost", "XGBoost", "MLP"],
        features_list: ["URLé•¿åº¦", "ç‰¹æ®Šå­—ç¬¦", "åŸŸåä¿¡æ¯", "SSLç‰¹å¾"],
        evaluation: "åŒ…å«è¯¦ç»†çš„æ€§èƒ½è¯„ä¼°"
      },
      links: {
        github: "https://github.com/vaibhavbichave/Phishing-URL-Detection",
        model: "https://github.com/vaibhavbichave/Phishing-URL-Detection/blob/master/pickle/model.pkl"
      }
    },
    "arvind_phishing_detector": {
      title: "phishing_detector (arvind-rs)",
      description: "åŸºäº SVM çš„ Chrome æ‰©å±•",
      details: {
        overview: "ä½¿ç”¨æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰å®ç°çš„ Chrome æ‰©å±•ï¼Œé€šè¿‡å†…å®¹è„šæœ¬æå– URL å’Œé¡µé¢ç‰¹å¾è¿›è¡Œæ£€æµ‹ã€‚",
        features: [
          "Chrome æ‰©å±•å½¢å¼",
          "SVM ç®—æ³•",
          "å®æ—¶æ£€æµ‹",
          "æŒä¹…åŒ–æ¨¡å‹"
        ],
        usage: "ä½œä¸ºæµè§ˆå™¨æ‰©å±•è¿è¡Œï¼Œå®æ—¶æ£€æµ‹è®¿é—®çš„ç½‘ç«™ã€‚",
        architecture: ["å†…å®¹è„šæœ¬", "èƒŒæ™¯è„šæœ¬", "ç‰¹å¾æå–"],
        deployment: "Chrome Web Store",
        user_experience: "æ— æ„ŸçŸ¥çš„åå°æ£€æµ‹"
      },
      links: {
        github: "https://github.com/arvind-rs/phishing_detector",
        engineering: "https://github.com/arvind-rs/phishing_detector/tree/master/Engineering%20Module"
      }
    },
    "shreyam_phishing_link_detector": {
      title: "Phishing-link-detector (ShreyamMaity)",
      description: "ç½‘ç«™ç«¯çš„é“¾æ¥æ£€æµ‹æ¼”ç¤º",
      details: {
        overview: "ä»¥ç½‘ç«™å½¢å¼å°è£…çš„é“¾æ¥æ£€æµ‹æ¼”ç¤ºç³»ç»Ÿï¼Œä¾¿äºéƒ¨ç½²å’ŒäºŒæ¬¡å¼€å‘ã€‚",
        features: [
          "Web ç•Œé¢",
          "æ¼”ç¤ºæ€§è´¨",
          "æ˜“äºéƒ¨ç½²",
          "é€‚åˆäºŒå¼€"
        ],
        usage: "æä¾›å®Œæ•´çš„ Web åº”ç”¨ï¼Œæ”¯æŒåœ¨çº¿æ£€æµ‹ã€‚",
        architecture: ["å‰ç«¯ç•Œé¢", "åç«¯API", "æ£€æµ‹å¼•æ“"],
        deployment: "ç®€å•éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨",
        customization: "ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¾¿äºå®šåˆ¶"
      },
      links: {
        github: "https://github.com/ShreyamMaity/Phishing-link-detector"
      }
    },
    "srimani_phishing_url_detector": {
      title: "Phishing-URL-Detector (srimani-programmer)",
      description: "Flask Web åº”ç”¨ + éšæœºæ£®æ—",
      details: {
        overview: "åŸºäº Flask çš„ Web åº”ç”¨ï¼Œä½¿ç”¨éšæœºæ£®æ—ç­‰ä¼ ç»Ÿæœºå™¨å­¦ä¹ ç®—æ³•æ„å»ºå®Œæ•´çš„æ£€æµ‹ç®¡çº¿ã€‚",
        features: [
          "Flask æ¡†æ¶",
          "éšæœºæ£®æ—ç®—æ³•",
          "Web åº”ç”¨",
          "å®Œæ•´æ•°æ®é›†"
        ],
        usage: "æä¾›å®Œæ•´çš„ Web åº”ç”¨ï¼ŒåŒ…å«æ•°æ®é›†å’Œè®­ç»ƒä»£ç ã€‚",
        pipeline: ["æ•°æ®é¢„å¤„ç†", "ç‰¹å¾å·¥ç¨‹", "æ¨¡å‹è®­ç»ƒ", "Webéƒ¨ç½²"],
        datasets: "åŒ…å«è®­ç»ƒå’Œæµ‹è¯•æ•°æ®",
        reproducibility: "ä»£ç å®Œæ•´ï¼Œå¯å¤ç°ç»“æœ"
      },
      links: {
        github: "https://github.com/srimani-programmer/Phishing-URL-Detector",
        code: "https://github.com/srimani-programmer/Phishing-URL-Detector/blob/master/phishing_detection.py"
      }
    },
    "asrith_phishing_detector": {
      title: "Phishing-detector (asrith-reddy)",
      description: "åœ¨çº¿æ£€æµ‹ç½‘ç«™æ¼”ç¤º",
      details: {
        overview: "åå·¥ç¨‹åŒ–çš„åœ¨çº¿æ£€æµ‹æ¼”ç¤ºç½‘ç«™ï¼Œæä¾›å®Œæ•´çš„æ£€æµ‹æœåŠ¡æ¼”ç¤ºã€‚",
        features: [
          "åœ¨çº¿æ¼”ç¤º",
          "å·¥ç¨‹åŒ–å®ç°",
          "ç”¨æˆ·å‹å¥½",
          "åŠŸèƒ½å®Œæ•´"
        ],
        usage: "æä¾›åœ¨çº¿æ¼”ç¤ºåœ°å€ï¼Œå¯ç›´æ¥ä½“éªŒæ£€æµ‹åŠŸèƒ½ã€‚",
        demo: "åŒ…å«æ‰˜ç®¡çš„æ¼”ç¤ºåœ°å€",
        implementation: "å®Œæ•´çš„å·¥ç¨‹å®ç°",
        user_interface: "ç›´è§‚çš„ Web ç•Œé¢"
      },
      links: {
        github: "https://github.com/asrith-reddy/Phishing-detector"
      }
    },
    "azlan_phishing_ai_detector": {
      title: "phishing-ai-detector (azlan-ismail)",
      description: "é›†æˆ SHAP å¯è§£é‡Šæ€§çš„æ£€æµ‹ç³»ç»Ÿ",
      details: {
        overview: "ä½¿ç”¨å¤šç§æœºå™¨å­¦ä¹ ç®—æ³•ï¼ˆLRã€RandomForestã€XGBoostï¼‰å¹¶é›†æˆ SHAP å¯è§£é‡Šæ€§åˆ†æï¼Œæä¾› Flask å’Œ Streamlit æ¼”ç¤ºã€‚",
        features: [
          "å¤šç®—æ³•å¹¶è¡Œ",
          "SHAP å¯è§£é‡Šæ€§",
          "Flask + Streamlit",
          "æ¨¡å‹è§£é‡Š"
        ],
        usage: "é€šè¿‡ SHAP å€¼è§£é‡Šæ¨¡å‹å†³ç­–ï¼Œæé«˜é€æ˜åº¦ã€‚",
        algorithms: ["é€»è¾‘å›å½’", "éšæœºæ£®æ—", "XGBoost"],
        explainability: ["SHAP å€¼", "ç‰¹å¾é‡è¦æ€§", "å†³ç­–è·¯å¾„"],
        deployment: ["Flask API", "Streamlit ç•Œé¢"]
      },
      links: {
        github: "https://github.com/azlan-ismail/phishing-ai-detector",
        models: "https://github.com/azlan-ismail/phishing-ai-detector/tree/main/models"
      }
    }
  }
};

// æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯å¼¹çª—
function showDescription(type, key) {
  const data = descriptions[type] && descriptions[type][key];
  if (!data) return;

  const modal = document.getElementById('descriptionModal');
  const modalTitle = document.getElementById('modalTitle');
  const modalBody = document.getElementById('modalBody');

  modalTitle.textContent = data.title;

  let content = '';

  // æ¦‚è¿°
  if (data.details.overview) {
    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">ğŸ“‹</span>
          æ¦‚è¿°
        </div>
        <div class="modal-section-content">${data.details.overview}</div>
      </div>
    `;
  }

  // ç‰¹æ€§
  if (data.details.features && data.details.features.length > 0) {
    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">â­</span>
          ä¸»è¦ç‰¹æ€§
        </div>
        <ul class="feature-list">
          ${data.details.features.map(feature => `<li>${feature}</li>`).join('')}
        </ul>
      </div>
    `;
  }

  // ä½¿ç”¨æ–¹æ³•
  if (data.details.usage) {
    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">ğŸ”§</span>
          ä½¿ç”¨æ–¹æ³•
        </div>
        <div class="modal-section-content">${data.details.usage}</div>
      </div>
    `;
  }

  // æŠ€æœ¯ç»†èŠ‚
  const techDetails = ['algorithm', 'performance', 'model_size', 'accuracy', 'requirements', 'limitations', 'applications', 'advantages', 'methodology', 'innovation', 'target_users', 'ease_of_use', 'ml_features', 'models', 'features_list', 'evaluation', 'architecture', 'deployment', 'user_experience', 'demo', 'implementation', 'user_interface', 'customization', 'pipeline', 'datasets', 'reproducibility', 'algorithms', 'explainability'];
  const hasTechDetails = techDetails.some(detail => data.details[detail]);

  if (hasTechDetails) {
    let techContent = '';
    techDetails.forEach(detail => {
      if (data.details[detail]) {
        const labels = {
          algorithm: 'ç®—æ³•',
          performance: 'æ€§èƒ½',
          model_size: 'æ¨¡å‹å¤§å°',
          accuracy: 'å‡†ç¡®ç‡',
          requirements: 'è¦æ±‚',
          limitations: 'å±€é™æ€§',
          applications: 'åº”ç”¨åœºæ™¯',
          advantages: 'ä¼˜åŠ¿',
          methodology: 'æ–¹æ³•è®º',
          innovation: 'åˆ›æ–°ç‚¹',
          target_users: 'ç›®æ ‡ç”¨æˆ·',
          ease_of_use: 'æ˜“ç”¨æ€§',
          ml_features: 'æœºå™¨å­¦ä¹ ç‰¹æ€§',
          models: 'æ¨¡å‹åˆ—è¡¨',
          features_list: 'ç‰¹å¾åˆ—è¡¨',
          evaluation: 'è¯„ä¼°',
          architecture: 'æ¶æ„',
          deployment: 'éƒ¨ç½²',
          user_experience: 'ç”¨æˆ·ä½“éªŒ',
          demo: 'æ¼”ç¤º',
          implementation: 'å®ç°',
          user_interface: 'ç”¨æˆ·ç•Œé¢',
          customization: 'å®šåˆ¶åŒ–',
          pipeline: 'å¤„ç†æµç¨‹',
          datasets: 'æ•°æ®é›†',
          reproducibility: 'å¯å¤ç°æ€§',
          algorithms: 'ç®—æ³•åˆ—è¡¨',
          explainability: 'å¯è§£é‡Šæ€§'
        };

        const value = Array.isArray(data.details[detail]) ? data.details[detail].join(', ') : data.details[detail];
        techContent += `<div><strong>${labels[detail] || detail}:</strong> ${value}</div>`;
      }
    });

    if (techContent) {
      content += `
        <div class="modal-section">
          <div class="modal-section-title">
            <span class="icon">âš™ï¸</span>
            æŠ€æœ¯ç»†èŠ‚
          </div>
          <div class="modal-section-content">${techContent}</div>
        </div>
      `;
    }
  }

  // æ•°æ®æº
  if (data.details.data_sources) {
    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">ğŸ“Š</span>
          æ•°æ®æº
        </div>
        <div class="modal-section-content">${data.details.data_sources}</div>
      </div>
    `;
  }

  // è®¸å¯è¯å’Œç»´æŠ¤
  const licenseMaintenance = [];
  if (data.details.license) licenseMaintenance.push(`<strong>è®¸å¯è¯:</strong> ${data.details.license}`);
  if (data.details.maintenance) licenseMaintenance.push(`<strong>ç»´æŠ¤çŠ¶æ€:</strong> ${data.details.maintenance}`);

  if (licenseMaintenance.length > 0) {
    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">ğŸ“„</span>
          è®¸å¯è¯ä¸ç»´æŠ¤
        </div>
        <div class="modal-section-content">${licenseMaintenance.join('<br>')}</div>
      </div>
    `;
  }

  // ç›¸å…³é“¾æ¥
  if (data.links && Object.keys(data.links).length > 0) {
    const linkItems = Object.entries(data.links).map(([key, url]) => {
      const labels = {
        github: 'GitHub',
        config: 'é…ç½®æ–‡ä»¶',
        sites: 'ç«™ç‚¹åˆ—è¡¨',
        addresses: 'åœ°å€åˆ—è¡¨',
        active_links: 'æ´»è·ƒé“¾æ¥',
        active_domains: 'æ´»è·ƒåŸŸå',
        api: 'API æ¥å£',
        source: 'æºç ',
        docs: 'æ–‡æ¡£',
        models: 'æ¨¡å‹æ–‡ä»¶',
        paper: 'ç ”ç©¶è®ºæ–‡',
        engineering: 'å·¥ç¨‹æ¨¡å—',
        ml_branch: 'ML åˆ†æ”¯',
        code: 'ä»£ç '
      };
      return `
        <div class="link-item">
          <span class="icon">ğŸ”—</span>
          <a href="${url}" target="_blank" rel="noopener noreferrer">${labels[key] || key}</a>
          <span class="status-tag tag-external">å¤–éƒ¨é“¾æ¥</span>
        </div>
      `;
    }).join('');

    content += `
      <div class="modal-section">
        <div class="modal-section-title">
          <span class="icon">ğŸ”—</span>
          ç›¸å…³é“¾æ¥
        </div>
        <div class="link-list">${linkItems}</div>
      </div>
    `;
  }

  modalBody.innerHTML = content;
  modal.classList.add('active');
}

// å…³é—­å¼¹çª—
function closeModal() {
  const modal = document.getElementById('descriptionModal');
  modal.classList.remove('active');
}

// ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
document.getElementById('descriptionModal').addEventListener('click', function(e) {
  if (e.target === this) {
    closeModal();
  }
});

// ESC é”®å…³é—­å¼¹çª—
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeModal();
  }
});

// é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
loadSources();
</script>
</body>
</html>
